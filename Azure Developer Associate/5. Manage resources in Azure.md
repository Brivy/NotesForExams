# Manage resources in Azure

This is the fifth chapter of the online Azure Developer Associate course.

## Align requirements with cloud types and service models in Azure

Azure supports three approaches to deploying cloud resources - public, private, and the hybrid cloud. Yes, it's recap time.

### Azure solutions for public, private, and hybrid cloud

We will not go down to the details inside this chapter, but a small recap will work.

There are three cloud computing models, each with their respective use cases:

- Public cloud: Building inside the cloud of someone else like Azure. Examples of why you would use public cloud:
  - Service consumption through on-demand or subscription model.
  - No up-front investment of hardware.
  - Automation.
  - Geographic dispersity.
  - Reduced hardware maintenance
- Private cloud: Building inside your cloud maintained on your machines. Examples of why you would use private cloud:
  - Pre-existing environment.
  - Legacy applications.
  - Data sovereignty and security.
  - Regulatory compliance / certification.
- Hybrid cloud: Building on both the public and private cloud. Examples of why you would use hybrid cloud:
  - Existing hardware investment.
  - Regulatory requirements.
  - Unique operating environment.
  - Migration.

There are three different service models inside the cloud:

- Infrastructure-as-a-service (IaaS) provides instant computing infrastructure that you can provision and manage over the Internet.
- Platform as a service (PaaS) provides ready-made development and deployment environments that you can use to deliver your own cloud services.
- Software as a service (SaaS) delivers applications over the Internet as a web-based service.

## Control Azure services with the CLI

The Azure portal is great for performing single tasks, and to see a quick overview of the state of your resources. But for tasks that need to be repeated daily, or even hourly, using the command line and a set of tested commands or scripts can help get your work done more quickly and avoid errors.

### What is the Azure CLI?

The Azure CLI is a command-line program to connect to Azure and execute administrative commands on Azure resources. It provides cross-platform command-line tools for managing Azure resources, and can be installed locally on Linux, Mac, or Windows computers. The Azure CLI can also be used from a browser through the Azure Cloud Shell.

### Working with the Azure CLI

Commands in the CLI are structured in *groups* and *subgroups*. Each group represents a service provided by Azure, and the subgroups divide commands for these services into logical groupings. For example, the storage group contains subgroups including account, blob, and queue.

Some examples are:

- Setting variables in the Azure CLI is as simple as `variable="test"` or `export AZURE_REGION=centralus`.
- Finding stuff about (for example) blobs without going to the documentation can be done with `az find blob`.
- When the command is found, but want more help use: `az storage blob --help`
- Connecting to the Azure CLI can be done with `az login`. This will redirect you to an Azure sign-in page.
- Creating resource groups can be done with: `az group create --name <name> --location <location>`
- If you want to see what you are working on, you can for example use `az group list` (or something like `az group list --output table`) to display a list of your resource groups.
- If you have a lot of stuff, you can filter the list result down with a query like `az group list --query "[?name == '$RESOURCE_GROUP']"`. This is formatted using JMESPath which is a standard query language for JSON requests.
- To create an entire App Service Plan, you can use `az appservice plan create --name $AZURE_APP_PLAN --resource-group $RESOURCE_GROUP --location $AZURE_REGION --sku FREE`.
- In the App Service Plan, you can create a web app with `az webapp create --name $AZURE_WEB_APP --resource-group $RESOURCE_GROUP --plan $AZURE_APP_PLAN`
- If you want to deploy a branch from a repo on GitHub, you can specify the following: `az webapp deployment source config --name $AZURE_WEB_APP --resource-group $RESOURCE_GROUP --repo-url "https://github.com/Azure-Samples/php-docs-hello-world" --branch master --manual-integration`

